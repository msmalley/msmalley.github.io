<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<link rel='shortcut icon' href='favicon.ico'>
<title>ENDLESS SKY | RANDOM</title>

<script type="text/javascript" src="../stu/js/stuquery.js"></script>
<script type="text/javascript" src="../stu/js/stuquery.hexmap.js"></script>
<script type="text/javascript" src="../stu/js/interact.min.js"></script>
<link rel="stylesheet" href="../stu/css/stuquery.hexmap.css">
    
</head>
<body>

<div id="hexmap-8" class="ex-8">
<code>
{
	"layout":"odd-r",
	"hexes": {
    
        "R1D1":{"q":1,"r":3,"dice":0,"type":"lava"},
        "R1D2":{"q":2,"r":2,"dice":0,"type":"lava"},
        "R1D3":{"q":1,"r":1,"dice":0,"type":"lava"},
        "R1D4":{"q":0,"r":1,"dice":0,"type":"lava"},
        "R1D5":{"q":0,"r":2,"dice":0,"type":"lava"},
        "R1D6":{"q":0,"r":3,"dice":0,"type":"lava"},
    
        "R2D1":{"q":1,"r":4,"dice":0,"type":"lava"},
        "R2D2":{"q":2,"r":4,"dice":0,"type":"lava"},
        "R2D3":{"q":2,"r":3,"dice":0,"type":"lava"},
        "R2D4":{"q":3,"r":2,"dice":0,"type":"lava"},
        "R2D5":{"q":2,"r":1,"dice":0,"type":"lava"},
        "R2D6":{"q":2,"r":0,"dice":0,"type":"lava"},
        "R2D7":{"q":1,"r":0,"dice":0,"type":"lava"},
        "R2D8":{"q":0,"r":0,"dice":0,"type":"lava"},
        "R2D9":{"q":-1,"r":1,"dice":0,"type":"lava"},
        "R2D10":{"q":-1,"r":2,"dice":0,"type":"lava"},
        "R2D11":{"q":-1,"r":3,"dice":0,"type":"lava"},
		"R2D12":{"q":0,"r":4,"dice":0,"type":"lava"},
    
        "R3D1":{"q":1,"r":5,"dice":0,"type":"lava"},
        "R3D2":{"q":2,"r":5,"dice":0,"type":"lava"},
        "R3D3":{"q":3,"r":4,"dice":0,"type":"lava"},
        "R3D4":{"q":3,"r":3,"dice":0,"type":"lava"},
        "R3D5":{"q":4,"r":2,"dice":0,"type":"lava"},
        "R3D6":{"q":3,"r":1,"dice":0,"type":"lava"},
        "R3D7":{"q":3,"r":0,"dice":0,"type":"lava"},
        "R3D8":{"q":2,"r":-1,"dice":0,"type":"lava"},
        "R3D9":{"q":1,"r":-1,"dice":0,"type":"lava"},
        "R3D10":{"q":0,"r":-1,"dice":0,"type":"lava"},
        "R3D11":{"q":-1,"r":-1,"dice":0,"type":"lava"},
        "R3D12":{"q":-1,"r":0,"dice":0,"type":"lava"},
        "R3D13":{"q":-2,"r":1,"dice":0,"type":"lava"},
        "R3D14":{"q":-2,"r":2,"dice":0,"type":"lava"},
        "R3D15":{"q":-2,"r":3,"dice":0,"type":"lava"},
        "R3D16":{"q":-1,"r":4,"dice":0,"type":"lava"},
        "R3D17":{"q":-1,"r":5,"dice":0,"type":"lava"},
        "R3D18":{"q":0,"r":5,"dice":0,"type":"lava"},
    
        "R4D1":{"q":1,"r":6,"dice":0,"type":"xxx","label":"1"},
        "R4D2":{"q":2,"r":6,"dice":0,"type":"lava"},
        "R4D3":{"q":3,"r":6,"dice":0,"type":"lava"},
        "R4D4":{"q":3,"r":5,"dice":0,"type":"xxx","label":"8"},
        "R4D5":{"q":4,"r":4,"dice":0,"type":"lava"},
        "R4D6":{"q":4,"r":3,"dice":0,"type":"lava"},
        "R4D7":{"q":5,"r":2,"dice":0,"type":"xxx","label":"4"},
        "R4D8":{"q":4,"r":1,"dice":0,"type":"lava"},
        "R4D9":{"q":4,"r":0,"dice":0,"type":"lava"},
        "R4D10":{"q":3,"r":-1,"dice":0,"type":"xxx","label":"6"},
        "R4D11":{"q":3,"r":-2,"dice":0,"type":"lava"},
        "R4D12":{"q":2,"r":-2,"dice":0,"type":"lava"},
        "R4D13":{"q":1,"r":-2,"dice":0,"type":"xxx","label":"2"},
        "R4D14":{"q":0,"r":-2,"dice":0,"type":"lava"},
        "R4D15":{"q":-1,"r":-2,"dice":0,"type":"lava"},
        "R4D16":{"q":-2,"r":-1,"dice":0,"type":"xxx","label":"7"},
        "R4D17":{"q":-2,"r":0,"dice":0,"type":"lava"}, 
        "R4D18":{"q":-3,"r":1,"dice":0,"type":"lava"},
        "R4D19":{"q":-3,"r":2,"dice":0,"type":"xxx","label":"3"},
        "R4D20":{"q":-3,"r":3,"dice":0,"type":"lava"},
        "R4D21":{"q":-2,"r":4,"dice":0,"type":"lava"},
        "R4D22":{"q":-2,"r":5,"dice":0,"type":"xxx","label":"5"},
        "R4D23":{"q":-1,"r":6,"dice":0,"type":"lava"},
        "R4D24":{"q":0,"r":6,"dice":0,"type":"lava"},
    
        "R5D1":{"q":1,"r":7,"dice":0,"type":"lava"},
        "R5D2":{"q":2,"r":7,"dice":0,"type":"lava"},
        "R5D3":{"q":3,"r":7,"dice":0,"type":"lava"},
        "R5D4":{"q":4,"r":6,"dice":0,"type":"lava"},
        "R5D5":{"q":4,"r":5,"dice":0,"type":"lava"},
        "R5D6":{"q":5,"r":4,"dice":"A","type":"lava"},
        "R5D7":{"q":5,"r":3,"dice":"T","type":"lava"},
        "R5D8":{"q":6,"r":2,"dice":"T","type":"lava"},
        "R5D9":{"q":5,"r":1,"dice":"T","type":"lava"},
        "R5D10":{"q":5,"r":0,"dice":"A","type":"lava"},
        "R5D11":{"q":4,"r":-1,"dice":0,"type":"lava"},
        "R5D12":{"q":4,"r":-2,"dice":0,"type":"lava"},
        "R5D13":{"q":3,"r":-3,"dice":0,"type":"lava"},
        "R5D14":{"q":2,"r":-3,"dice":0,"type":"lava"},
        "R5D15":{"q":1,"r":-3,"dice":0,"type":"lava"},
        "R5D16":{"q":0,"r":-3,"dice":0,"type":"lava"},
        "R5D17":{"q":-1,"r":-3,"dice":0,"type":"lava"},
        "R5D18":{"q":-2,"r":-3,"dice":0,"type":"lava"},
        "R5D19":{"q":-2,"r":-2,"dice":0,"type":"lava"},
        "R5D20":{"q":-3,"r":-1,"dice":0,"type":"lava"},
        "R5D21":{"q":-3,"r":0,"dice":"A","type":"lava"},
        "R5D22":{"q":-4,"r":1,"dice":"T","type":"lava"},
        "R5D23":{"q":-4,"r":2,"dice":"T","type":"lava"},
        "R5D24":{"q":-4,"r":3,"dice":"T","type":"lava"},
        "R5D25":{"q":-3,"r":4,"dice":"A","type":"lava"},
        "R5D26":{"q":-3,"r":5,"dice":0,"type":"lava"},
        "R5D27":{"q":-2,"r":6,"dice":0,"type":"lava"},
        "R5D28":{"q":-2,"r":7,"dice":0,"type":"lava"},
        "R5D29":{"q":-1,"r":7,"dice":0,"type":"lava"},
        "R5D30":{"q":0,"r":7,"dice":0,"type":"lava"},
    
        "R0":{"q":1,"r":2,"dice":0,"type":"xxx","label":"X"}
	}
}
</code>
</div>
    
<script>
var terrains = ["hills"];
    
S(document).ready(function(){
	var hexmap = S.hexmap('hexmap-8', {
        formatLabel: function(id,hex)
        {
            if(hex.type == 'xxx')
            {
                console.log('id', id);
                console.log('hex', hex);
                return hex.label[0].toUpperCase();
            }
            else
            {
                return '';
            }
		}
    });
    
    var tiles = {
        water: 0,
        forest: 0,
        mountains: 0,
        hills: 0
    };
    
    var biomes = 
    {
        ice: [
            "ice1","ice2","ice3","ice4","ice5","ice6","ice7","ice8","ice9","ice10",
            "ice11","ice12","ice13","ice14","ice15","ice16","ice17","ice18","ice19",
            "ice1","ice4","ice18","ice19","ice1","ice4","ice18","ice19"
        ]
    }
    
    var tile_types = 
    {
        water: 0,
        ice1: 0,
        forest: 0,
        jungle: 0,
        mountains: 0,
        volcanic: 0,
        submerged: 0,
        desert: 0,
        xxx: 0,
        total: 0
    }
    
	hexmap.positionHexes().resize();

	// Define the content of each hex
	hexmap.setContent(function(id,hex)
    {
        tiles[hex.type]++;
        //return hex.type;
	});
	
	// Set the CSS class of each hex to be the hex type
	hexmap.setClass(function(id,hex)
    {
        if(hex.type == 'ice')
        {
            var tile = biomes.ice.splice
            (
                Math.floor(Math.random() * biomes.ice.length), 
                1
            );
            tile_types[tile]++;
            tile_types.total++;
            return tile;
        }
        else if(hex.type == 'random')
        {
            var type = terrains[Math.floor(Math.random() * terrains.length)];
            return type;
        }
        else
        {
            tile_types[hex.type]++;
            tile_types.total++;
            return hex.type;
        }
	});
    
    console.log('tile_types', tile_types);
    
    setDraggables();
});    
</script>
    
</body>
</html>